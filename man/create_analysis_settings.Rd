% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analysis_settings.R
\name{create_analysis_settings}
\alias{create_analysis_settings}
\title{Function to create analysis settings for drug utilization}
\usage{
create_analysis_settings(
  database,
  studyName = "main",
  targetCohortId,
  targetCohortName = NULL,
  eventCohortIds,
  eventCohortNames = NULL,
  includeTreatments = "startDate",
  periodPriorToIndex = 0,
  minEraDuration = 0,
  eraCollapseSize = 30,
  combinationWindow = 30,
  minPostCombinationDuration = 30,
  filterTreatments = "First",
  maxPathLength = 5,
  minCellCount = 5,
  minCellMethod = "Remove",
  groupCombinations = 10,
  addNoPaths = FALSE,
  strata = NULL,
  outputFolder
)
}
\arguments{
\item{database}{identify the database for the analysis}

\item{studyName}{provide a study name defaults to main}

\item{targetCohortId}{the ids for the target cohort}

\item{targetCohortName}{the name of the target cohort}

\item{eventCohortIds}{the ids for the event cohorts}

\item{eventCohortNames}{the names for the event cohorts}

\item{includeTreatments}{Include treatments starting ('startDate') or ending ('endDate') after target cohort start date}

\item{periodPriorToIndex}{Number of days prior to the index date of the target cohort that event cohorts are allowed to start}

\item{minEraDuration}{Minimum time an event era should last to be included in analysis}

\item{eraCollapseSize}{Window of time between which two eras of the same event cohort are collapsed into one era}

\item{combinationWindow}{Window of time two event cohorts need to overlap to be considered a combination treatment}

\item{minPostCombinationDuration}{Minimum time an event era before or after a generated combination treatment should last to be included in analysis}

\item{filterTreatments}{Select first occurrence of ("First") / changes between ("Changes') / all event cohorts ("All")}

\item{maxPathLength}{Maximum number of steps included in treatment pathway (max 5)}

\item{minCellCount}{Minimum number of persons with a specific treatment pathway for the pathway to be included in analysis}

\item{minCellMethod}{Select to completely remove / sequentially adjust (by removing last step as often as necessary) treatment pathways below minCellCount}

\item{groupCombinations}{Select to group all non-fixed combinations in one category 'otherâ€™ in the sunburst plot}

\item{addNoPaths}{Select to include untreated persons without treatment pathway in the sunburst plot}

\item{strata}{a strata list object of stratification settings}

\item{outputFolder}{the outputfolder to save data to csv}
}
\value{
a DrugUtilizationAnalysisSettings object defining the treatment analysis
}
\description{
This function adopts ideas from TreatmentPatterns::addPathwayAnalysis and
builds the settings needed for a drug utilization study.
}
